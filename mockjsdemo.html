<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>

</body>
<script src="http://mockjs.com/dist/mock.js"></script>
<!--
Mock.js 的语法规范包括两部分：
数据模板定义（Data Temaplte Definition，DTD）
数据占位符定义（Data Placeholder Definition，DPD）
mock.js-无需等待，让前端独立于后端进行开发
基于 数据模板 生成模拟数据。
基于 HTML模板 生成模拟数据。
拦截并模拟 ajax 请求。
拦截ajax请求并返回模拟数据
-->
<script>
    var data01 = Mock.mock({
        'list|1-10': [{
            'id|+1': 1
        }]
    });
    console.log(data01)

    var template = {
        'title': 'Syntax Demo',

        'string1|1-10': '★',
        'string2|3': 'value',

        'number1|+1': 100,
        'number2|1-100': 100,
        'number3|1-100.1-10': 1,
        'number4|123.1-10': 1,
        'number5|123.3': 1,
        'number6|123.10': 1.123,

        'boolean1|1': true,
        'boolean2|1-2': true,

        'object1|2-4': {
            '110000': '北京市',
            '120000': '天津市',
            '130000': '河北省',
            '140000': '山西省'
        },
        'object2|2': {
            '310000': '上海市',
            '320000': '江苏省',
            '330000': '浙江省',
            '340000': '安徽省'
        },

        'array1|1': ['AMD', 'CMD', 'KMD', 'UMD'],
        'array2|1-10': ['Mock.js'],
        'array3|3': ['Mock.js'],

        'function': function() {
            return this.title
        }
    }
    var data02 = Mock.mock(template);
    console.log(data02);

    //对 jQuery Ajax 请求的拦截和响应
    Mock.mock('www.wanshaobo.com/img', {
        'list|1-10': [{
            'id|+1': 1,
            'email': '@EMAIL'
        }]
    })
    $.ajax({
        url: 'www.wanshaobo.com/img',
        dataType: 'json',
        success: function(data, status, jqXHR){
            console.log(data);
        }
    });

    var image = new Image();
    image.src = 'www.wanshaobo.com/img/1';
    image.onload = function() {
        console.log(image);//'www.wanshaobo.com/img/1' 404 (Not Found)
    };
    console.log(image);//<img src="www.wanshaobo.com/img/1">

    //promise实例具有then方法，因此then方法是定义在原型对象promise.prototype上的。它的作用是为promise实例添加状态改变时的回调函数。
    var p = new Promise(function(resolve,rejected){
        console.log(resolve)
    });
    p.then(function(data){
        //
    });

    Promise.all()//这个方法用于将多个promise实例，包装成一个新的promise实例。

    Promise.resolve("foo");//这就相当于下面这种写法
    new Promise(function(resolve){
        resolve("foo");
    });
</script>
</html>